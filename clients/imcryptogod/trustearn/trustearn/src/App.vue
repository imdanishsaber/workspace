<template>
  <div>
    <header class="header">
      <div class="header__top_wrap">
        <div class="container">
          <div class="header__top">
            <img src="@/assets/logo.svg" class="header__logo" />
            <div class="header__menu">
              <a href="#ANCHOR_DEPOSIT" class="header__menu_item">
                <div class="mb-icon">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="30"
                    height="18"
                    viewBox="0 0 30 18"
                    fill="none"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M0 2C0 2 0 1.17157 0.585787 0.585787C0.585787 0.585787 1.17157 0 2 0H28C28 0 28.8284 0 29.4142 0.585786C29.4142 0.585786 30 1.17157 30 2V16C30 16 30 16.8284 29.4142 17.4142C29.4142 17.4142 28.8284 18 28 18H2C2 18 1.17157 18 0.585785 17.4142C0.585785 17.4142 0 16.8284 0 16V2ZM2 2V16L28 16V2H2Z"
                      fill="#161617"
                    ></path>
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M15 4C15 4 17.0711 4 18.5355 5.46447C18.5355 5.46447 20 6.92893 20 9C20 9 20 11.0711 18.5355 12.5355C18.5355 12.5355 17.0711 14 15 14C15 14 12.9289 14 11.4645 12.5355C11.4645 12.5355 10 11.0711 10 9C10 9 10 6.92893 11.4645 5.46447C11.4645 5.46447 12.9289 4 15 4ZM15 6C15 6 13.7574 6 12.8787 6.87868C12.8787 6.87868 12 7.75736 12 9C12 9 12 10.2426 12.8787 11.1213C12.8787 11.1213 13.7574 12 15 12C15 12 16.2426 12 17.1213 11.1213C17.1213 11.1213 18 10.2426 18 9C18 9 18 7.75736 17.1213 6.87868C17.1213 6.87868 16.2426 6 15 6Z"
                      fill="#161617"
                    ></path>
                    <path
                      d="M20.3415 1.75258L28.3415 8.75258C28.5238 8.91208 28.7578 9 29 9C29.0222 9 29.0444 8.99926 29.0665 8.99779C29.3311 8.98014 29.5779 8.8581 29.7526 8.6585C29.9121 8.47621 30 8.24222 30 8C30 7.97781 29.9993 7.95562 29.9978 7.93348C29.9801 7.66885 29.8581 7.42207 29.6585 7.24742L21.6585 0.247423C21.4762 0.0879183 21.2422 1.19209e-07 21 0C20.9778 0 20.9556 0.00073868 20.9335 0.00221485C20.6689 0.0198568 20.4221 0.1419 20.2474 0.341495C20.0879 0.523787 20 0.757777 20 1C20 1.02219 20.0007 1.04438 20.0022 1.06652C20.0199 1.33115 20.1419 1.57793 20.3415 1.75258Z"
                      fill="#161617"
                    ></path>
                    <path
                      d="M29.6582 10.7528C29.8752 10.5629 30 10.2884 30 10C30 9.9877 29.9998 9.97541 29.9993 9.96312C29.9909 9.73373 29.9037 9.51424 29.7526 9.3415C29.5627 9.12448 29.2884 9 29 9C28.9877 9 28.9754 9.00023 28.9631 9.00068C28.7337 9.00915 28.5142 9.09627 28.3415 9.24742L20.3415 16.2474C20.1245 16.4373 20 16.7116 20 17C20 17.0123 20.0002 17.0246 20.0007 17.0369C20.0091 17.2663 20.0963 17.4858 20.2474 17.6585C20.4373 17.8755 20.7116 18 21 18C21.0123 18 21.0246 17.9998 21.0369 17.9993C21.2663 17.9909 21.4858 17.9037 21.6585 17.7526L29.6582 10.7528Z"
                      fill="#161617"
                    ></path>
                    <path
                      d="M8.34122 0.247664L0.341495 7.24742C0.12448 7.43731 0 7.71164 0 8C0 8.0123 0.000226855 8.02459 0.000680447 8.03688C0.00914693 8.26627 0.0962698 8.48576 0.247423 8.6585C0.437311 8.87552 0.711637 9 1 9C1.0123 9 1.02459 8.99977 1.03688 8.99932C1.26627 8.99085 1.48576 8.90373 1.6585 8.75258L9.65823 1.75282C9.87524 1.56293 10 1.28836 10 1C10 0.987702 9.99977 0.975405 9.99932 0.963116C9.99085 0.733731 9.90373 0.514242 9.75258 0.341495C9.56269 0.124481 9.28836 2.98023e-07 9 0C8.9877 0 8.9754 0.000226855 8.96312 0.000680447C8.73373 0.00914693 8.51397 0.0965104 8.34122 0.247664Z"
                      fill="#161617"
                    ></path>
                    <path
                      d="M9.6585 16.2474L1.6585 9.24742C1.47621 9.08792 1.24222 9 1 9C0.977808 9 0.955623 9.00074 0.933481 9.00221C0.668852 9.01986 0.42207 9.1419 0.247423 9.3415C0.0879182 9.52379 0 9.75778 0 10C0 10.0222 0.00073868 10.0444 0.00221485 10.0665C0.0198568 10.3311 0.1419 10.5779 0.341495 10.7526L8.3415 17.7526C8.52379 17.9121 8.75778 18 9 18C9.02219 18 9.04438 17.9993 9.06652 17.9978C9.33115 17.9801 9.57793 17.8581 9.75258 17.6585C9.91208 17.4762 10 17.2422 10 17C10 16.9778 9.99926 16.9556 9.99779 16.9335C9.98014 16.6689 9.8581 16.4221 9.6585 16.2474Z"
                      fill="#161617"
                    ></path>
                  </svg>
                </div>
                Deposit
              </a>
              <a href="#ANCHOR_MISSION" class="header__menu_item hide992"
                >Features</a
              >
              <a
                href="https://docs.trustearn.io/security-audit"
                target="_blank"
                class="header__menu_item"
              >
                <div class="mb-icon">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M8.80216 23.7378C8.80216 23.7378 10.1202 24.4331 11.359 24.8446C11.359 24.8446 12 25.0752 12.641 24.8446C12.641 24.8446 13.8799 24.4331 15.1978 23.7378C15.1978 23.7378 17.3166 22.62 18.999 21.0718C18.999 21.0718 24 16.4695 24 9.3375V2C24 2 24 1.17157 23.4142 0.585787C23.4142 0.585787 22.8284 0 22 0H2C2 0 1.17157 0 0.585787 0.585787C0.585787 0.585787 0 1.17157 0 2V9.3375C0 9.3375 0 16.4695 5.00096 21.0718C5.00096 21.0718 6.68336 22.62 8.80216 23.7378ZM14.2647 21.9688C14.2647 21.9688 13.087 22.5901 12 22.9501C12 22.9501 10.913 22.5901 9.73534 21.9688C9.73534 21.9688 7.84644 20.9724 6.35529 19.6001C6.35529 19.6001 2 15.592 2 9.3375V2H22V9.3375C22 9.3375 22 15.592 17.6447 19.6001C17.6447 19.6001 16.1536 20.9724 14.2647 21.9688Z"
                      fill="#161617"
                    ></path>
                    <path
                      d="M7.19089 10.777C7.00482 10.5992 6.75736 10.5 6.5 10.5C6.49979 10.5 6.47732 10.5003 6.47732 10.5003C6.21217 10.5063 5.96027 10.6174 5.77704 10.8091C5.59923 10.9952 5.5 11.2426 5.5 11.5L5.50026 11.5227C5.50627 11.7878 5.61737 12.0397 5.80911 12.223L9.47161 15.723C9.85791 16.0921 10.4662 16.0924 10.8528 15.7236L18.19 8.72379C18.3819 8.54072 18.4935 8.28868 18.4997 8.02353C18.5001 8.00752 18.5001 7.9915 18.4997 7.97548C18.4936 7.72695 18.3952 7.48961 18.2236 7.30973C18.0348 7.11192 17.7734 7 17.5 7L17.4718 7.0004C17.2245 7.00738 16.9887 7.10573 16.8097 7.27645L10.1631 13.6174L7.19089 10.777Z"
                      fill="#161617"
                    ></path>
                  </svg>
                </div>
                Audit
              </a>
              <a
                href="https://docs.trustearn.io/security-audit"
                target="_blank"
                class="header__menu_item"
              >
                <div class="mb-icon">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                  >
                    <path
                      d="M10 11H18C18.5523 11 19 10.5523 19 10C19 9.44772 18.5523 9 18 9H10C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z"
                      fill="#1C1C1C"
                    ></path>
                    <path
                      d="M10 15H18C18.5523 15 19 14.5523 19 14C19 13.4477 18.5523 13 18 13H10C9.44772 13 9 13.4477 9 14C9 14.5523 9.44772 15 10 15Z"
                      fill="#1C1C1C"
                    ></path>
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M0 2C0 2 0 1.17157 0.585787 0.585787C0.585787 0.585787 1.17157 0 2 0H22C22 0 22.8284 0 23.4142 0.585786C23.4142 0.585786 24 1.17157 24 2V22C24 22 24 22.8284 23.4142 23.4142C23.4142 23.4142 22.8284 24 22 24H2C2 24 1.17157 24 0.585786 23.4142C0.585786 23.4142 0 22.8284 0 22V2ZM2 2V22H22V2H2Z"
                      fill="#1C1C1C"
                    ></path>
                    <path
                      d="M5 1V23C5 23.5523 5.44772 24 6 24C6.55228 24 7 23.5523 7 23V1C7 0.447715 6.55228 0 6 0C5.44772 0 5 0.447715 5 1Z"
                      fill="#1C1C1C"
                    ></path>
                  </svg>
                </div>
                Help
              </a>
              <a
                href="https://t.me/TrustEarn_chat"
                target="_blank"
                class="header__menu_item mob-menu-item"
              >
                <div class="mb-icon">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="28"
                    height="25"
                    viewBox="0 0 28 25"
                    fill="none"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M2.13659 13.5047C2.13659 13.5047 1.44441 13.3627 1.00232 12.8351C1.00232 12.8351 0.600004 12.355 0.54173 11.7213C0.54173 11.7213 0.48322 11.085 0.794055 10.5405C0.794055 10.5405 1.13645 9.94062 1.79697 9.68176L24.8761 0.617667C24.8761 0.617667 25.3922 0.417591 25.9377 0.511324C25.9377 0.511324 26.4832 0.605059 26.9029 0.965928C26.9029 0.965928 27.3226 1.3268 27.4971 1.85211C27.4971 1.85211 27.6715 2.37741 27.5498 2.92326L22.8497 23.4488C22.8497 23.4488 22.7312 23.9647 22.3731 24.3545C22.3731 24.3545 22.015 24.7442 21.511 24.9058C21.511 24.9058 21.007 25.0674 20.489 24.9585C20.489 24.9585 19.971 24.8497 19.577 24.5008L8.54057 14.7903L2.14071 13.5055L2.13659 13.5047ZM2.53435 11.5446L9.19685 12.8821C9.36891 12.9167 9.52885 12.9959 9.6606 13.1118L20.8981 22.9993L20.9004 23.0013L25.599 2.48244L2.52809 11.5433L2.53435 11.5446Z"
                      fill="#1C1C1C"
                    ></path>
                    <path
                      d="M26.5977 2.38585C26.858 2.19784 27.0125 1.89605 27.0125 1.57495C27.0125 1.55946 27.0121 1.54396 27.0114 1.52848C27.0024 1.33432 26.937 1.14701 26.8232 0.989439C26.6679 0.774437 26.4335 0.629929 26.1717 0.587706C26.1191 0.579217 26.0658 0.574952 26.0125 0.574951C26.001 0.574951 25.9895 0.57515 25.978 0.575548C25.7796 0.582403 25.5879 0.648103 25.427 0.764288L8.41506 13.0514C8.20006 13.2067 8.05498 13.4414 8.01275 13.7032C8.00427 13.7559 8 13.8091 8 13.8625C8 13.874 8.0002 13.8855 8.0006 13.897C8.00745 14.0953 8.07315 14.2871 8.18934 14.448C8.37734 14.7083 8.67891 14.8625 9 14.8625C9.01549 14.8625 9.03099 14.8621 9.04647 14.8614C9.24063 14.8523 9.42794 14.7869 9.58551 14.6731L26.5977 2.38585Z"
                      fill="#1C1C1C"
                    ></path>
                    <path
                      d="M10 21.9984V13.8625C10 13.3103 9.55228 12.8625 9 12.8625C8.44772 12.8625 8 13.3102 8 13.8625V22C8.00102 22.61 8.34059 23.1148 8.34059 23.1148C8.68016 23.6195 9.24326 23.8497 9.24326 23.8497C9.80636 24.0799 10.4023 23.9575 10.4023 23.9575C10.9982 23.8352 11.425 23.4017 11.425 23.4017L15.3196 19.5072C15.5071 19.3196 15.6125 19.0653 15.6125 18.8C15.6125 18.5348 15.5071 18.2805 15.3196 18.0929C15.1321 17.9054 14.8777 17.8 14.6125 17.8C14.3473 17.8 14.0929 17.9054 13.9054 18.0929L10 21.9984Z"
                      fill="#1C1C1C"
                    ></path>
                  </svg>
                </div>
                TG Chat
              </a>
            </div>
            <button
              v-if="walletAddr"
              class="header__connect btn-green"
              id="b_wallet_disconnect"
              :disabled="isLoading"
              @click="onDisconnect"
            >
              DisConnect
            </button>
            <button
              v-else
              class="header__connect btn-blue"
              id="b_wallet_connect"
              :disabled="isLoading"
              @click="onConnect"
            >
              Connect Wallet
            </button>
          </div>
        </div>
      </div>
    </header>

    <section class="top">
      <div class="container top-rel-container">
        <h1 class="top__title">
          Trust your ability to earn with automated insurance
        </h1>
        <p class="top__text">
          Safe and Transparent Investment model confirmed by
          <a
            href="https://docs.trustearn.io/security-audit"
            target="_blank"
            class="underTitleAuditLink"
            >Security Audit</a
          >
        </p>

        <div class="top__btns">
          <a href="#ANCHOR_DEPOSIT" class="top__deposit btn-blueWhite"
            >START EARNING</a
          >
          <a
            href="https://docs.trustearn.io/"
            target="_blank"
            class="top__deposit btn-blueWhite"
            >WHITEPAPER</a
          >
        </div>

        <div v-if="timer" class="launchTime" id="launchTime">
          LAUNCH IN: {{ days }}D {{ hours }}H {{ minutes }}M {{ seconds }}S
        </div>

        <div class="top__info"></div>
      </div>
    </section>

    <section class="stats">
      <div class="container">
        <div class="stats__wrap">
          <div class="stats__quest" @click="MD_Insurance = !MD_Insurance">
            <img src="@/assets/quest.svg" />
          </div>
          <div class="stats__item stats__item1">
            <div class="stats__item_price" id="VALUE_TOTAL">
              ${{ HT_INVESTED }}
            </div>
            <div class="stats__item_text">Total Value Deposited</div>
            <div class="stats__line"></div>
          </div>
          <div class="stats__item stats__item2">
            <div class="stats__item_price" id="VALUE_ACTIVE">
              ${{ HT_LOCKED }}
            </div>
            <div class="stats__item_text">Total Value Locked</div>
            <div class="stats__line"></div>
          </div>
          <div class="stats__item">
            <div class="stats__item_price" id="VALUE_REFERRAL">
              ${{ HT_REFREWARD }}
            </div>
            <div class="stats__item_text">Referral Payouts</div>
            <div class="stats__line"></div>
          </div>
          <div class="stats__item stats__item_last">
            <div
              class="stats__item_price"
              id="VALUE_INSURANCE"
              ht_inssentagg="0"
              ht_insrecvagg="0"
              avgbalance="0"
            >
              ${{ HT_INSURANCE }}
            </div>
            <div class="stats__item_text">Insurance Balance</div>
          </div>
        </div>
        <!-- <a
          href="#ANCHOR_DEPOSIT"
          class="btn btn-whiteBlue mob-lg-deposit hidden"
          >START EARNING</a
        > -->
        <div class="ft__bottom">
          <div class="ft__bottom_text" style="margin-bottom: 20px">
            Earn a Stable Daily Reward of 2.5% using USD Tether (BEP-20)
          </div>
        </div>
      </div>
    </section>

    <section class="dash">
      <div class="container">
        <div class="dash__history2" id="ANCHOR_DEPOSIT">
          <div class="dh2__wrap">
            <div class="dash-deposit dash-block">
              <h2 class="dash__title">Deposit</h2>
              <div class="stats__quest" @click="MD_Calc = !MD_Calc">
                <img src="@/assets/quest.svg" />
              </div>
              <div class="calcWrapper">
                <div class="calcHeader">
                  <div class="calcHead1">Days</div>
                  <div class="calcHead2">
                    <div class="calcHead21 gray-color">
                      Profits based on strategy
                    </div>
                    <div class="calcHead22">
                      <div class="calcHead22a">Withdrawing</div>
                      <div class="calcHead22b">Compounding</div>
                    </div>
                  </div>
                </div>
                <div class="calcRow">
                  <div class="calcTab1">30</div>
                  <div class="calcTab2">
                    <span class="amtWidth" id="calc_row1_w">{{
                      ((1.5 / 100) * buyAmount * 30).toFixed(2)
                    }}</span
                    >&nbsp;<small class="gr-color">USDT</small><br /><small
                      class="gray-color sameDeposit"
                      >Same Deposit</small
                    >
                  </div>
                  <div class="calcTab3">
                    <span class="amtWidth" id="calc_row1_a">9.37</span
                    >&nbsp;<small class="gr-color daily">Daily</small
                    ><br /><span class="amtWidth" id="calc_row1_b">625.23</span
                    >&nbsp;<small class="gr-color deposit">Deposit</small>
                  </div>
                </div>
                <div class="calcRow">
                  <div class="calcTab1">60</div>
                  <div class="calcTab2">
                    <span class="amtWidth" id="calc_row2_w">{{
                      ((1.5 / 100) * buyAmount * 60).toFixed(2)
                    }}</span
                    >&nbsp;<small class="gr-color">USDT</small><br /><small
                      class="gray-color sameDeposit"
                      >Same Deposit</small
                    >
                  </div>
                  <div class="calcTab3">
                    <span class="amtWidth" id="calc_row2_a">14.65</span
                    >&nbsp;<small class="gr-color daily">Daily</small
                    ><br /><span class="amtWidth" id="calc_row2_b">977.28</span
                    >&nbsp;<small class="gr-color deposit">Deposit</small>
                  </div>
                </div>
                <div class="calcRow">
                  <div class="calcTab1">90</div>
                  <div class="calcTab2">
                    <span class="amtWidth" id="calc_row3_w">{{
                      ((1.5 / 100) * buyAmount * 90).toFixed(2)
                    }}</span
                    >&nbsp;<small class="gr-color">USDT</small><br /><small
                      class="gray-color sameDeposit"
                      >Same Deposit</small
                    >
                  </div>
                  <div class="calcTab3">
                    <span class="amtWidth" id="calc_row3_a">22.91</span
                    >&nbsp;<small class="gr-color daily">Daily</small
                    ><br /><span class="amtWidth" id="calc_row3_b">1527</span
                    >&nbsp;<small class="gr-color deposit">Deposit</small>
                  </div>
                </div>
              </div>
              <div class="dash-deposit__info" id="b_calcInfo">
                <img src="@/assets/Calculator.svg" class="marginRight10" />
                What does it mean?
              </div>
              <div class="dash-deposit__co">
                <input
                  type="text"
                  placeholder="300"
                  class="dash-deposit__input"
                  v-model.number="buyAmount"
                />
                <span class="dd__usdt gr-color">USDT</span>
              </div>
              <button
                :disabled="isLoading"
                @click="onAction"
                class="btn btn-blueWhite popup_launch_timer"
              >
                Deposit
              </button>
            </div>
            <div class="your-dash dash-block hide768" id="DASHBOARD_1">
              <div class="your-dash__left">
                <h2 class="dash__title">Your Dashboard</h2>
                <div class="dashParams">
                  <div class="top-airdrop-block__item">
                    <div class="tab1">Deposited Amount:</div>
                    <div class="tab2">
                      <span id="USER_invested" class="black-color">{{
                        weiToEth(USERS.invested) || 0
                      }}</span
                      >&nbsp;<span class="tab1-hs">USDT</span>
                    </div>
                  </div>
                  <div class="top-airdrop-block__item">
                    <div class="tab1">Total Earnings:</div>
                    <div class="tab2">
                      <span id="USER_ht_earned" class="black-color">{{
                        weiToEth(USERS.ht_earned) || 0
                      }}</span
                      >&nbsp;<span class="tab1-hs">USDT</span>
                    </div>
                  </div>
                  <div class="top-airdrop-block__item">
                    <div class="tab1">Total Withdrawn:</div>
                    <div class="tab2">
                      <span id="USER_ht_withdrawn" class="black-color">{{
                        weiToEth(USERS.ht_withdrawn) || 0
                      }}</span
                      >&nbsp;<span class="tab1-hs">USDT</span>
                    </div>
                  </div>
                  <div class="top-airdrop-block__item">
                    <div class="tab1">Daily reward:</div>
                    <div class="tab2">
                      <span id="USER_daily" class="black-color">{{
                        weiToEth(CALC._daily) || 0
                      }}</span
                      >&nbsp;<span class="tab1-hs">USDT</span>
                    </div>
                  </div>
                  <div
                    class="top-airdrop-block__item"
                    @click="MD_Timer = !MD_Timer"
                  >
                    <div class="tab1">Cut-off Timer:</div>
                    <div class="tab2">
                      <span id="USER_beforeCutoff" class="black-color"
                        ><span class="gray-color" id="countdown"
                          >offline</span
                        ></span
                      >
                    </div>
                  </div>

                  <div class="top-airdrop-block__item">
                    <div class="tab1">Invited Referrals:</div>
                    <div class="tab2">
                      <span id="USER_refCounts" class="black-color">{{
                        yourInvitedReferrals
                      }}</span>
                    </div>
                  </div>
                </div>
                <button
                  class="your-dash__emergency-btn dashButtonMargin"
                  id="b_UNSTAKE_2"
                  :disabled="isLoading"
                  @click="MD_eme = !MD_eme"
                >
                  Emergency Withdraw
                </button>
              </div>
              <div class="your-dash__right">
                <h2 class="dash__title">Your History</h2>
                <div class="yd__overlay">
                  <div class="yd-info thinScroll" id="USER_history">
                    <div
                      class="historyItem gray-color"
                      style="text-align: center; padding-top: 20px"
                    >
                      Your history log will appear here when you make your first
                      Deposit
                    </div>
                  </div>
                </div>

                <a
                  href="#"
                  class="btn btn-blueWhite dashButtonMargin"
                  id="b_USER_HISTORY_1"
                  >Full History</a
                >
              </div>
            </div>
            <div
              class="dash__recent dash-block top-deposits hide768"
              id="TOP_DEPOSITS_D"
            >
              <h2 class="dash__title ft_list_start">Top Deposits</h2>
              <div
                v-if="!topDeposits.length"
                class="depositItem gray-color"
                style="text-align: center; padding-top: 20px"
              >
                Launching soon
              </div>
              <template v-else>
                <template v-for="(item, i) in topDeposits">
                  <div class="top-airdrop-block__item depositItem">
                    <div class="tab1">{{ addrTrun(item.user) }}</div>
                    <div class="tab2">
                      {{ weiToEth(item.amount) }}&nbsp;<span class="tab1-hs"
                        >USDT</span
                      >
                    </div>
                  </div>
                </template>
              </template>
            </div>
          </div>
        </div>
        <div class="dash__history3">
          <div class="dh3-wrap">
            <div class="hide768 dash-earn dash-block" id="USER_EARNINGS_2">
              <div class="stats__quest" @click="MD_Earning = !MD_Earning">
                <img src="@/assets/quest.svg" />
              </div>
              <h2 class="dash__title">Earnings</h2>
              <div class="top-airdrop-block__item">
                <div class="tab1">Accumulated Earnings:</div>
                <div class="tab2">
                  <span id="USER_amtEarn" class="black-color">{{
                    weiToEth(CALC._amtEarn) || 0
                  }}</span
                  >&nbsp;<span class="tab1-hs">USDT</span>
                </div>
              </div>
              <div class="top-airdrop-block__item">
                <div class="tab1">Collected Airdrops:</div>
                <div class="tab2">
                  <span id="USER_airReward" class="black-color">{{
                    weiToEth(USERS.airReward) || 0
                  }}</span
                  >&nbsp;<span class="tab1-hs">USDT</span>
                </div>
              </div>
              <div class="top-airdrop-block__item">
                <div class="tab1">Referral Rewards:</div>
                <div class="tab2">
                  <span id="USER_refReward" class="black-color">{{
                    weiToEth(USERS.refReward) || 0
                  }}</span
                  >&nbsp;<span class="tab1-hs">USDT</span>
                </div>
              </div>
              <div class="hs3__btns">
                <button
                  class="btn btn-blueWhite"
                  :disabled="isLoading"
                  @click="onCompound"
                >
                  Compound
                </button>
                <button
                  class="btn btn-whiteBlue"
                  :disabled="isLoading"
                  @click="onWithdraw"
                >
                  Withdraw
                </button>
                <button
                  class="btn btn-green"
                  :disabled="isLoading"
                  @click="onClaim"
                >
                  Airdrops (<span id="USER_airAvailNum">{{
                    userAvailableAirdrops._availNum || 0
                  }}</span>
                  available)
                </button>
              </div>
            </div>
            <div class="ref-system dash-block">
              <div class="sh1_head">
                <h2 class="dash__title">Referral System</h2>
                <div class="sh1_info">
                  Total Referral Rewards:
                  <span id="USER_ht_refReward">{{
                    weiToEth(USERS.ht_refReward) || 0
                  }}</span
                  >&nbsp;<span class="gr-color">USDT</span>
                </div>
              </div>
              <div class="levels">
                <div class="lvl-wr">
                  <div class="levels__item">
                    <div class="levels__item_yl levels__item_yl1"></div>
                    <div class="lvl-num">Level 1</div>
                    <span class="lvl-pr wh">4%</span>
                  </div>
                  <span class="lvl-refs"
                    ><span id="USER_refCount_0">0</span> referrals</span
                  >
                </div>
              </div>
              <div class="yrl__title">Your referal link:</div>
              <div class="ref-link-wrap">
                <div class="rf-link" id="USER_refLink">
                  <div class="gray-color">
                    {{ referral }}
                  </div>
                  <!-- Invest to obtain your personal link -->
                </div>
                <button
                  class="btn-yrl btn btn-blueWhite"
                  :disabled="isLoading"
                  @click="copyStringToClipboard"
                >
                  Copy
                </button>
              </div>
            </div>
            <div class="hide768 dash__recent dash-block" id="AIRDROPS_BOT">
              <h2 class="dash__title ft_list_start">Recent airdrops</h2>
              <div
                v-if="!recentAirdrops.length"
                class="airdropItem gray-color"
                style="text-align: center; padding-top: 20px"
              >
                Coming soon
              </div>
              <template v-else>
                <template v-for="(item, i) in recentAirdrops">
                  <div class="top-airdrop-block__item depositItem">
                    <div class="tab1">{{ unixToAgo(item.time) }}</div>
                    <div class="tab2">
                      {{ weiToEth(item.initialAmt) }}&nbsp;<span class="tab1-hs"
                        >USDT</span
                      >
                    </div>
                  </div>
                </template>
              </template>
            </div>
          </div>
        </div>
        <div class="dash__history">
          <div class="hide768 dash__global_history dash-block">
            <h2 class="dash__title">Global History</h2>
            <div class="hs__overlay">
              <div class="hs" id="GLOBAL_HISTORY_D">
                <div
                  class="historyItem gray-color"
                  style="text-align: center; padding-top: 20px"
                >
                  Launching soon
                </div>
              </div>
            </div>
          </div>
          <div class="dash-block">
            <div class="mission__top">
              <h2 class="dash__title">Our Mission</h2>
            </div>
            <div class="mission__wrap">
              <div class="mission__wrap_left">
                <p class="mission__wrap_p">
                  Trustworthy and Reliable project - is what our community needs
                  and deserves. We built a really decent protocol with
                  transparent investment model that can multiply your savings
                </p>
                <p class="mission__wrap_p">
                  Our automated insurance mechanism ensures the safety of every
                  user's funds and contributes to the sustainable growth of the
                  project.
                </p>
                <p class="mission__wrap_p">
                  We are also developing other defi ecosystem to help sustain
                  and grow the community as whole which will enable users to
                  earn more in the defi space
                </p>
                <p class="mission__wrap_p">
                  Our welcoming community is here to assist you with any
                  inquiries you may have. Providing support and guiding you
                  towards earning and enhancing your income brings us great
                  satisfaction
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="ft">
      <div class="container">
        <h2 class="site-title hide992" style="text-align: center">
          Our Features
        </h2>
        <div class="ft__wrap slick-initialized">
          <div class="myclass">
            <div class="ft__item">
              <h3 class="ft__item_title">PREDICTABLE BEHAVIOR</h3>
              <p class="ft__item_text">
                Fixed rates and Cut-off mechanics prevent panic withdrawals and
                keep the Project balance stable
              </p>
              <div class="ft__line"></div>
            </div>
            <div class="ft__item">
              <h3 class="ft__item_title">AUTOMATED USER INSURANCE</h3>
              <p class="ft__item_text">
                Standalone Insurance contract balances any fluctuations and
                provides healthy growth
              </p>
              <div class="ft__line"></div>
            </div>
            <div class="ft__item">
              <h3 class="ft__item_title">DEPOSIT WITHDRAWAL</h3>
              <p class="ft__item_text">
                Any moment you can unstake 50% of your Investments and 100% of
                accumulated Earnings
              </p>
              <div class="ft__line"></div>
            </div>
            <div class="ft__item">
              <h3 class="ft__item_title">FREE AIRDROPS</h3>
              <p class="ft__item_text">
                weiToEth(UserS.) he more you Invest - the more your Airdrop
                share is!
              </p>
              <div class="ft__line"></div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section>
      <div
        style="
          color: white;
          justify-self: center;
          width: 100%;
          text-align: center;
          padding-bottom: 30px;
          font-size: 18px;
        "
      >
        Â©TrustEarn Team. All Rights Reserved
      </div>
      <div class="footer">
        <a
          href="https://t.me/TrustEarn_Chat"
          target="_blank"
          class="top-social__link"
        >
          <img src="@/assets/telegram.svg" width="40px" />
        </a>
        <a
          href="https://t.me/TrustEarn_Chat"
          target="_blank"
          class="top-social__link"
        >
          <img src="@/assets/telegram.svg" width="40px" />
        </a>
        <a
          href="https://twitter.com/TrustEarn_Roi"
          target="_blank"
          class="top-social__link"
        >
          <img src="@/assets/twitter.svg" width="40px" />
        </a>
      </div>
    </section>
    <div
      v-if="MD_Insurance"
      class="overlay-popup type-popup"
      id="overlayDialog"
    >
      <div class="popup">
        <p class="popup-text">
          <img class="popup-img" src="@/assets/ft2.svg" />Insurance is a special
          standalone contract that automatically supports the Project.<br /><br />It
          protects the main balance from rapid heavy withdrawals and provides
          healthy growth and reliability for the Project and every TrustEarn
          user!
        </p>
        <p class="popup-buttons">
          <button
            class="popup-btn btn-gray"
            @click="MD_Insurance = !MD_Insurance"
          >
            Close</button
          ><button class="popup-btn btn-green" cb="cbPopupHref">
            More info
          </button>
        </p>
      </div>
    </div>
    <div v-if="MD_Calc" class="overlay-popup type-popup" id="overlayDialog">
      <div class="popup">
        <p class="popup-text">
          This calculator shows your Earnings over time depending on the amount
          of <span class="gr-color">USDT</span> invested and the Strategy you
          choose<br /><br />Check the Whitepaper for examples and further info
        </p>
        <p class="popup-buttons">
          <button class="popup-btn btn-gray" @click="MD_Calc = !MD_Calc">
            Close</button
          ><button class="popup-btn btn-green" cb="cbPopupHref">
            More info
          </button>
        </p>
      </div>
    </div>
    <div v-if="MD_Timer" class="overlay-popup type-popup" id="overlayDialog">
      <div class="popup">
        <h2 class="popup-title">Cut-off timer</h2>
        <p class="popup-text">
          You should Withdraw or Compound your Daily Reward at least once a
          day<br /><br />If you don't do this your Daily Reward will stop
          accumulating<br /><br />For more info please check our
          <a
            href="https://mine-12.gitbook.io/trustearn/basic-functions"
            target="_blank"
            >Whitepaper</a
          >
        </p>
        <p class="popup-buttons">
          <button class="popup-btn btn-green" @click="MD_Timer = !MD_Timer">
            Ok
          </button>
        </p>
      </div>
    </div>
    <div v-if="MD_Earning" class="overlay-popup type-popup" id="overlayDialog">
      <div class="popup">
        <p class="popup-text">
          Here you can see your current Earnings accumulated from different
          sources<br /><br />You can decide whether to Withdraw everything
          directly to your wallet or Compound to increase your Daily Reward
        </p>
        <p class="popup-buttons">
          <button class="popup-btn btn-gray" @click="MD_Earning = !MD_Earning">
            Close
          </button>
        </p>
      </div>
    </div>
    <div v-if="dep_alw" class="overlay-popup type-popup" id="overlayDialog">
      <div class="popup">
        <h2 class="popup-title">Token Allowance</h2>
        <p class="popup-text">
          Before investing the Contract needs to acquire your permission for
          {{ buyAmount }}&nbsp;<small class="gr-color">USDT</small
          ><br /><br />Please confirm both transactions
        </p>
        <p class="popup-buttons"></p>
      </div>
    </div>
    <div v-if="dep_inv" class="overlay-popup type-popup" id="overlayDialog">
      <div class="popup">
        <h2 class="popup-title">Investing</h2>
        <p class="popup-text">
          Please confirm the transaction for Investing
          {{ buyAmount }} USDT.
        </p>
        <p class="popup-buttons">
          <button class="popup-btn btn-green" @click="dep_inv = false">
            Ok
          </button>
        </p>
      </div>
    </div>
    <div v-if="dep_com" class="overlay-popup type-popup" id="overlayDialog">
      <div class="popup">
        <h2 class="popup-title">Deposit completed!</h2>
        <p class="popup-text">
          Please check your Dashboard for more info. Don't forget to Compound or
          Withdraw your earnings before the Cut-off timer stops!
        </p>
        <p class="popup-buttons">
          <button class="popup-btn btn-green" @click="dep_com = false">
            Ok
          </button>
        </p>
      </div>
    </div>
    <div v-if="dep_rej" class="overlay-popup type-popup" id="overlayDialog">
      <div class="popup">
        <h2 class="popup-title">Cancelled</h2>
        <p class="popup-text">You rejected the transaction</p>
        <p class="popup-buttons">
          <button class="popup-btn btn-gray" @click="dep_rej = false">
            Close
          </button>
        </p>
      </div>
    </div>
    <div
      v-if="MD_eme"
      class="overlay-popup type-popup"
      style=""
      id="overlayDialog"
    >
      <div class="popup">
        <h2 class="popup-title" style="">Emergency Withdraw</h2>
        <p class="popup-text">
          You are going to Unstake your Deposited Amount<br /><br />3.95&nbsp;<span
            class="gr-color"
            >USDT</span
          >
          will be sent to your wallet<br /><br />Please note: you will not be
          eligible for Daily Reward or Airdrops anymore
        </p>
        <p class="popup-buttons">
          <button class="popup-btn btn-green" @click="MD_eme = false">
            Cancel</button
          ><button class="popup-btn btn-gray" @click="onUnstake">
            Proceed
          </button>
        </p>
      </div>
    </div>
  </div>
</template>

<script>
const SC_ADDR = "0x24303F9A288055181fF62A57ae719770087846C2";
const SC_ABI = [
  {
    inputs: [{ internalType: "address", name: "_tokenAddr", type: "address" }],
    stateMutability: "nonpayable",
    type: "constructor",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "address",
        name: "user",
        type: "address",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "airdropIndex",
        type: "uint256",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "amount",
        type: "uint256",
      },
    ],
    name: "event_claimAirdrop",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "address",
        name: "user",
        type: "address",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "refReward",
        type: "uint256",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "airReward",
        type: "uint256",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "earnReward",
        type: "uint256",
      },
    ],
    name: "event_compoundRewards",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "address",
        name: "creator",
        type: "address",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "amount",
        type: "uint256",
      },
    ],
    name: "event_createAirdrop",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "address",
        name: "user",
        type: "address",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "timeFull",
        type: "uint256",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "timeEarn",
        type: "uint256",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "amtFull",
        type: "uint256",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "amtEarn",
        type: "uint256",
      },
    ],
    name: "event_encashEarnings",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "enum TRUEFUND.Flags",
        name: "flag",
        type: "uint8",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "amountRequested",
        type: "uint256",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "amountFunded",
        type: "uint256",
      },
    ],
    name: "event_insurancePull",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "address",
        name: "user",
        type: "address",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "amount",
        type: "uint256",
      },
    ],
    name: "event_invest",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "address",
        name: "referrer",
        type: "address",
      },
      {
        indexed: false,
        internalType: "address",
        name: "user",
        type: "address",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "reward",
        type: "uint256",
      },
    ],
    name: "event_refPayout",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "address",
        name: "user",
        type: "address",
      },
      {
        indexed: false,
        internalType: "address",
        name: "upline",
        type: "address",
      },
    ],
    name: "event_setUpline",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "address",
        name: "user",
        type: "address",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "totalRewards",
        type: "uint256",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "unstakeAmount",
        type: "uint256",
      },
    ],
    name: "event_unstake",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "address",
        name: "user",
        type: "address",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "refReward",
        type: "uint256",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "airReward",
        type: "uint256",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "earnReward",
        type: "uint256",
      },
    ],
    name: "event_withdraw",
    type: "event",
  },
  {
    inputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    name: "ADDRS",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "AGG_INVESTED",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    name: "AIRDROPS",
    outputs: [
      { internalType: "uint256", name: "time", type: "uint256" },
      { internalType: "address", name: "creator", type: "address" },
      { internalType: "uint256", name: "initialAmt", type: "uint256" },
      { internalType: "uint256", name: "currentAmt", type: "uint256" },
      { internalType: "uint256", name: "claimedNum", type: "uint256" },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "AIRDROP_INDEX",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    name: "AVG_BALANCE",
    outputs: [
      { internalType: "uint256", name: "count", type: "uint256" },
      { internalType: "uint256", name: "amount", type: "uint256" },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    name: "HISTORY",
    outputs: [
      { internalType: "enum TRUEFUND.Flags", name: "flag", type: "uint8" },
      { internalType: "uint256", name: "time", type: "uint256" },
      { internalType: "uint256", name: "amt1", type: "uint256" },
      { internalType: "uint256", name: "amt2", type: "uint256" },
      { internalType: "uint256", name: "amt3", type: "uint256" },
      { internalType: "address", name: "addr1", type: "address" },
      { internalType: "address", name: "addr2", type: "address" },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "HT_AIRCLAIMS",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "HT_AIRDROPPED",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "HT_AIRREWARD",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "HT_COMPOUNDED",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "HT_EARNED",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "HT_INS_RECV_AGG",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    name: "HT_INS_SENT",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "HT_INS_SENT_AGG",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "HT_INVESTED",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "HT_REFREWARD",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "HT_TIMER_AMT",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "HT_TIMER_CNT",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "HT_WITHDRAWN",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "INSURANCE",
    outputs: [{ internalType: "address payable", name: "", type: "address" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "LAUNCHED",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "OWNER",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    name: "REF_PERCENTAGES",
    outputs: [{ internalType: "uint16", name: "", type: "uint16" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "TOKEN",
    outputs: [{ internalType: "contract tfIERC20", name: "", type: "address" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    name: "TOPDEPOSITS",
    outputs: [
      { internalType: "address", name: "user", type: "address" },
      { internalType: "uint256", name: "amount", type: "uint256" },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "address", name: "", type: "address" }],
    name: "USERS",
    outputs: [
      { internalType: "address", name: "upline", type: "address" },
      { internalType: "uint256", name: "invested", type: "uint256" },
      { internalType: "uint256", name: "refReward", type: "uint256" },
      { internalType: "uint256", name: "airReward", type: "uint256" },
      { internalType: "uint256", name: "earnReward", type: "uint256" },
      { internalType: "uint256", name: "checkpoint", type: "uint256" },
      { internalType: "uint256", name: "airIndex", type: "uint256" },
      { internalType: "uint256", name: "ht_invested", type: "uint256" },
      { internalType: "uint256", name: "ht_refReward", type: "uint256" },
      { internalType: "uint256", name: "ht_airReward", type: "uint256" },
      { internalType: "uint256", name: "ht_earned", type: "uint256" },
      { internalType: "uint256", name: "ht_compounded", type: "uint256" },
      { internalType: "uint256", name: "ht_withdrawn", type: "uint256" },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "address", name: "_user", type: "address" }],
    name: "_calcEarnings",
    outputs: [
      { internalType: "uint256", name: "_timeFull", type: "uint256" },
      { internalType: "uint256", name: "_timeEarn", type: "uint256" },
      { internalType: "uint256", name: "_amtFull", type: "uint256" },
      { internalType: "uint256", name: "_amtEarn", type: "uint256" },
      { internalType: "uint256", name: "_daily", type: "uint256" },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "address", name: "_user", type: "address" }],
    name: "_calcUnstakeRewards",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "claimAirdrops",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [],
    name: "compound",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [{ internalType: "address", name: "_user", type: "address" }],
    name: "contractInfo",
    outputs: [
      {
        components: [
          { internalType: "uint256", name: "time", type: "uint256" },
          { internalType: "uint256", name: "launched", type: "uint256" },
          { internalType: "uint256", name: "balance", type: "uint256" },
          { internalType: "uint256", name: "usersCount", type: "uint256" },
          { internalType: "uint256", name: "agg_invested", type: "uint256" },
          { internalType: "uint256", name: "ht_invested", type: "uint256" },
          { internalType: "uint256", name: "ht_refReward", type: "uint256" },
          { internalType: "uint256", name: "ht_earned", type: "uint256" },
          { internalType: "uint256", name: "ht_withdrawn", type: "uint256" },
          { internalType: "uint256", name: "ht_airDropped", type: "uint256" },
          { internalType: "uint256", name: "ht_airClaims", type: "uint256" },
          { internalType: "uint256", name: "ht_airReward", type: "uint256" },
          { internalType: "uint256", name: "insBalance", type: "uint256" },
          { internalType: "uint256", name: "ht_insSentAgg", type: "uint256" },
          { internalType: "uint256", name: "ht_insRecvAgg", type: "uint256" },
          { internalType: "uint256", name: "avgBalance", type: "uint256" },
          {
            components: [
              { internalType: "uint256", name: "time", type: "uint256" },
              { internalType: "address", name: "creator", type: "address" },
              { internalType: "uint256", name: "initialAmt", type: "uint256" },
              { internalType: "uint256", name: "currentAmt", type: "uint256" },
              { internalType: "uint256", name: "claimedNum", type: "uint256" },
            ],
            internalType: "struct TRUEFUND.Airdrop[10]",
            name: "airdrops",
            type: "tuple[10]",
          },
          {
            components: [
              { internalType: "address", name: "user", type: "address" },
              { internalType: "uint256", name: "amount", type: "uint256" },
            ],
            internalType: "struct TRUEFUND.Deposit[10]",
            name: "topDeposits",
            type: "tuple[10]",
          },
          {
            components: [
              {
                internalType: "enum TRUEFUND.Flags",
                name: "flag",
                type: "uint8",
              },
              { internalType: "uint256", name: "time", type: "uint256" },
              { internalType: "uint256", name: "amt1", type: "uint256" },
              { internalType: "uint256", name: "amt2", type: "uint256" },
              { internalType: "uint256", name: "amt3", type: "uint256" },
              { internalType: "address", name: "addr1", type: "address" },
              { internalType: "address", name: "addr2", type: "address" },
            ],
            internalType: "struct TRUEFUND.History[20]",
            name: "history",
            type: "tuple[20]",
          },
        ],
        internalType: "struct TRUEFUND.DataContract",
        name: "_dataContract",
        type: "tuple",
      },
      {
        components: [
          { internalType: "uint256", name: "balance", type: "uint256" },
          { internalType: "uint256", name: "allowance", type: "uint256" },
        ],
        internalType: "struct TRUEFUND.DataUser",
        name: "_dataUser",
        type: "tuple",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "uint256", name: "_amount", type: "uint256" }],
    name: "extraAirdrop",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [
      { internalType: "uint256", name: "_amount", type: "uint256" },
      { internalType: "address", name: "_upline", type: "address" },
    ],
    name: "invest",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [{ internalType: "address", name: "_user", type: "address" }],
    name: "moonArch",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "uint256", name: "_amount", type: "uint256" }],
    name: "pullInsurance",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [],
    name: "unstake",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [{ internalType: "address", name: "_user", type: "address" }],
    name: "userAvailableAirdrops",
    outputs: [
      { internalType: "uint256", name: "_availNum", type: "uint256" },
      { internalType: "uint256", name: "_availAmt", type: "uint256" },
      {
        components: [
          { internalType: "uint256", name: "time", type: "uint256" },
          { internalType: "address", name: "creator", type: "address" },
          { internalType: "uint256", name: "initialAmt", type: "uint256" },
          { internalType: "uint256", name: "currentAmt", type: "uint256" },
          { internalType: "uint256", name: "claimedNum", type: "uint256" },
          { internalType: "uint256", name: "userSharePrc", type: "uint256" },
          { internalType: "uint256", name: "userShareAmt", type: "uint256" },
        ],
        internalType: "struct TRUEFUND.UserAirdrop[10]",
        name: "_airdrops",
        type: "tuple[10]",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      { internalType: "address", name: "_user", type: "address" },
      { internalType: "uint256", name: "_offset", type: "uint256" },
    ],
    name: "userHistory",
    outputs: [
      { internalType: "bool", name: "_canPrev", type: "bool" },
      { internalType: "bool", name: "_canNext", type: "bool" },
      {
        components: [
          { internalType: "enum TRUEFUND.Flags", name: "flag", type: "uint8" },
          { internalType: "uint256", name: "time", type: "uint256" },
          { internalType: "uint256", name: "amt1", type: "uint256" },
          { internalType: "uint256", name: "amt2", type: "uint256" },
          { internalType: "uint256", name: "amt3", type: "uint256" },
          { internalType: "address", name: "addr1", type: "address" },
          { internalType: "address", name: "addr2", type: "address" },
        ],
        internalType: "struct TRUEFUND.History[10]",
        name: "_history",
        type: "tuple[10]",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [{ internalType: "address", name: "_user", type: "address" }],
    name: "userInfo",
    outputs: [
      {
        components: [
          { internalType: "uint256", name: "time", type: "uint256" },
          { internalType: "uint256", name: "balance", type: "uint256" },
          { internalType: "uint256", name: "allowance", type: "uint256" },
          { internalType: "bool", name: "isUser", type: "bool" },
          { internalType: "uint256", name: "checkpoint", type: "uint256" },
          { internalType: "uint256", name: "invested", type: "uint256" },
          { internalType: "uint256", name: "refReward", type: "uint256" },
          { internalType: "uint256", name: "airReward", type: "uint256" },
          { internalType: "uint256", name: "earnReward", type: "uint256" },
          { internalType: "uint256", name: "amtFull", type: "uint256" },
          { internalType: "uint256", name: "amtEarn", type: "uint256" },
          { internalType: "uint256", name: "amtDaily", type: "uint256" },
          { internalType: "uint256", name: "beforeCutoff", type: "uint256" },
          { internalType: "uint256[3]", name: "refCounts", type: "uint256[3]" },
          { internalType: "uint256", name: "airAvailNum", type: "uint256" },
          { internalType: "uint256", name: "airAvailAmt", type: "uint256" },
          { internalType: "uint256", name: "unstakeRewards", type: "uint256" },
          { internalType: "uint256", name: "ht_invested", type: "uint256" },
          { internalType: "uint256", name: "ht_refReward", type: "uint256" },
          { internalType: "uint256", name: "ht_airReward", type: "uint256" },
          { internalType: "uint256", name: "ht_earned", type: "uint256" },
          { internalType: "uint256", name: "ht_compounded", type: "uint256" },
          { internalType: "uint256", name: "ht_withdrawn", type: "uint256" },
        ],
        internalType: "struct TRUEFUND.DataUserEx",
        name: "_dataUserEx",
        type: "tuple",
      },
      {
        components: [
          { internalType: "enum TRUEFUND.Flags", name: "flag", type: "uint8" },
          { internalType: "uint256", name: "time", type: "uint256" },
          { internalType: "uint256", name: "amt1", type: "uint256" },
          { internalType: "uint256", name: "amt2", type: "uint256" },
          { internalType: "uint256", name: "amt3", type: "uint256" },
          { internalType: "address", name: "addr1", type: "address" },
          { internalType: "address", name: "addr2", type: "address" },
        ],
        internalType: "struct TRUEFUND.History[10]",
        name: "_history",
        type: "tuple[10]",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "withdraw",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  { stateMutability: "payable", type: "receive" },
];

const USDT_ADDR = "0x55d398326f99059fF775485246999027B3197955";
const USDT_ABI = [
  {
    inputs: [],
    payable: false,
    stateMutability: "nonpayable",
    type: "constructor",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: true,
        internalType: "address",
        name: "owner",
        type: "address",
      },
      {
        indexed: true,
        internalType: "address",
        name: "spender",
        type: "address",
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "value",
        type: "uint256",
      },
    ],
    name: "Approval",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: true,
        internalType: "address",
        name: "previousOwner",
        type: "address",
      },
      {
        indexed: true,
        internalType: "address",
        name: "newOwner",
        type: "address",
      },
    ],
    name: "OwnershipTransferred",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      { indexed: true, internalType: "address", name: "from", type: "address" },
      { indexed: true, internalType: "address", name: "to", type: "address" },
      {
        indexed: false,
        internalType: "uint256",
        name: "value",
        type: "uint256",
      },
    ],
    name: "Transfer",
    type: "event",
  },
  {
    constant: true,
    inputs: [],
    name: "_decimals",
    outputs: [{ internalType: "uint8", name: "", type: "uint8" }],
    payable: false,
    stateMutability: "view",
    type: "function",
  },
  {
    constant: true,
    inputs: [],
    name: "_name",
    outputs: [{ internalType: "string", name: "", type: "string" }],
    payable: false,
    stateMutability: "view",
    type: "function",
  },
  {
    constant: true,
    inputs: [],
    name: "_symbol",
    outputs: [{ internalType: "string", name: "", type: "string" }],
    payable: false,
    stateMutability: "view",
    type: "function",
  },
  {
    constant: true,
    inputs: [
      { internalType: "address", name: "owner", type: "address" },
      { internalType: "address", name: "spender", type: "address" },
    ],
    name: "allowance",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    payable: false,
    stateMutability: "view",
    type: "function",
  },
  {
    constant: false,
    inputs: [
      { internalType: "address", name: "spender", type: "address" },
      { internalType: "uint256", name: "amount", type: "uint256" },
    ],
    name: "approve",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    payable: false,
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    constant: true,
    inputs: [{ internalType: "address", name: "account", type: "address" }],
    name: "balanceOf",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    payable: false,
    stateMutability: "view",
    type: "function",
  },
  {
    constant: false,
    inputs: [{ internalType: "uint256", name: "amount", type: "uint256" }],
    name: "burn",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    payable: false,
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    constant: true,
    inputs: [],
    name: "decimals",
    outputs: [{ internalType: "uint8", name: "", type: "uint8" }],
    payable: false,
    stateMutability: "view",
    type: "function",
  },
  {
    constant: false,
    inputs: [
      { internalType: "address", name: "spender", type: "address" },
      { internalType: "uint256", name: "subtractedValue", type: "uint256" },
    ],
    name: "decreaseAllowance",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    payable: false,
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    constant: true,
    inputs: [],
    name: "getOwner",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    payable: false,
    stateMutability: "view",
    type: "function",
  },
  {
    constant: false,
    inputs: [
      { internalType: "address", name: "spender", type: "address" },
      { internalType: "uint256", name: "addedValue", type: "uint256" },
    ],
    name: "increaseAllowance",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    payable: false,
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    constant: false,
    inputs: [{ internalType: "uint256", name: "amount", type: "uint256" }],
    name: "mint",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    payable: false,
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    constant: true,
    inputs: [],
    name: "name",
    outputs: [{ internalType: "string", name: "", type: "string" }],
    payable: false,
    stateMutability: "view",
    type: "function",
  },
  {
    constant: true,
    inputs: [],
    name: "owner",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    payable: false,
    stateMutability: "view",
    type: "function",
  },
  {
    constant: false,
    inputs: [],
    name: "renounceOwnership",
    outputs: [],
    payable: false,
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    constant: true,
    inputs: [],
    name: "symbol",
    outputs: [{ internalType: "string", name: "", type: "string" }],
    payable: false,
    stateMutability: "view",
    type: "function",
  },
  {
    constant: true,
    inputs: [],
    name: "totalSupply",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    payable: false,
    stateMutability: "view",
    type: "function",
  },
  {
    constant: false,
    inputs: [
      { internalType: "address", name: "recipient", type: "address" },
      { internalType: "uint256", name: "amount", type: "uint256" },
    ],
    name: "transfer",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    payable: false,
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    constant: false,
    inputs: [
      { internalType: "address", name: "sender", type: "address" },
      { internalType: "address", name: "recipient", type: "address" },
      { internalType: "uint256", name: "amount", type: "uint256" },
    ],
    name: "transferFrom",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    payable: false,
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    constant: false,
    inputs: [{ internalType: "address", name: "newOwner", type: "address" }],
    name: "transferOwnership",
    outputs: [],
    payable: false,
    stateMutability: "nonpayable",
    type: "function",
  },
];

import Web3 from "web3";
import Web3Modal from "web3modal";
import { toast } from "vue3-toastify";
import "vue3-toastify/dist/index.css";

export default {
  name: "App",
  data() {
    return {
      isLoading: false,
      web3Obj: null,
      walletAddr: null,
      SC_INSTANCE: null,
      USDT_INSTANCE: null,
      web3Modal: null,
      buyAmount: 300,

      balance: 0,
      allowance: 0,
      HT_INVESTED: 0,
      HT_LOCKED: 0,
      HT_REFREWARD: 0,
      HT_INSURANCE: 0,
      CALC: {},
      USERS: {},
      userAvailableAirdrops: {},
      referral: window.location.origin,
      referrarAddr: null,

      topDeposits: [],
      recentAirdrops: [],
      // Timer
      timer: true,
      days: 0,
      hours: 0,
      minutes: 0,
      seconds: 0,

      MD_Insurance: false,
      MD_Calc: false,
      MD_Timer: false,
      MD_Earning: false,
      dep_alw: false,
      dep_inv: false,
      dep_com: false,
      dep_rej: false,
      MD_eme: false,
    };
  },
  beforeMount() {
    this.web3Modal = new Web3Modal({
      cacheProvider: false,
      disableInjectedProvider: false,
    });
  },
  mounted() {
    var countDownDate = new Date("July 30, 2023 23:59:59").getTime();

    var x = setInterval(() => {
      var now = new Date().getTime();
      var distance = countDownDate - now;

      this.days = Math.floor(distance / (1000 * 60 * 60 * 24));
      this.hours = Math.floor(
        (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
      );
      this.minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      this.seconds = Math.floor((distance % (1000 * 60)) / 1000);

      if (distance < 0) {
        clearInterval(x);
        this.timer = false;
      }
    }, 1000);
  },
  methods: {
    async onConnect() {
      try {
        let provider = await this.web3Modal.connect();
        this.onProvider(provider);
        provider.on("accountsChanged", (accounts) => {
          console.log(accounts);
          this.onProvider(provider);
        });
      } catch (e) {
        console.log("Could not get a wallet connection", e);
        return;
      }
    },

    async onProvider(provider) {
      this.web3Obj = new Web3(provider);

      this.chainId = await this.web3Obj.eth.getChainId();
      if (this.chainId !== 56) {
        toast("Please Connect You Wallet to Binance Smart Chain");
        return;
      }

      let accounts = await this.web3Obj.eth.getAccounts();
      this.walletAddr = accounts[0];

      if (window.location.search) {
        this.referrarAddr = window.location.search.slice(5);
      } else {
        this.referrarAddr = this.walletAddr;
      }

      this.referral = window.location.origin + "/?ref=" + this.walletAddr;

      this.SC_INSTANCE = new this.web3Obj.eth.Contract(SC_ABI, SC_ADDR);
      this.USDT_INSTANCE = new this.web3Obj.eth.Contract(USDT_ABI, USDT_ADDR);

      this.readValues();
      this.TOPDEPOSITS();
      this.RECENTAIRDROPS();
    },

    async readValues() {
      Promise.all([
        this.USDT_INSTANCE.methods.balanceOf(this.walletAddr).call(),
        this.USDT_INSTANCE.methods.balanceOf(SC_ADDR).call(),
        this.USDT_INSTANCE.methods.allowance(this.walletAddr, SC_ADDR).call(),
        this.SC_INSTANCE.methods.HT_INVESTED().call(),
        this.SC_INSTANCE.methods.HT_REFREWARD().call(),
        this.SC_INSTANCE.methods.USERS(this.walletAddr).call(),
        this.SC_INSTANCE.methods._calcEarnings(this.walletAddr).call(),
        this.SC_INSTANCE.methods.userAvailableAirdrops(this.walletAddr).call(),
        this.SC_INSTANCE.methods.INSURANCE().call(),
      ]).then(
        async ([
          balance,
          HT_LOCKED,
          allowance,
          HT_INVESTED,
          HT_REFREWARD,
          USERS,
          CALC,
          userAvailableAirdrops,
          INSURANCE,
        ]) => {
          console.log("balance:", balance);
          console.log("HT_LOCKED:", HT_LOCKED);
          console.log("allowance:", allowance);
          console.log("HT_INVESTED:", HT_INVESTED);
          console.log("HT_REFREWARD:", HT_REFREWARD);
          console.log("USERS:", USERS);
          console.log("CALC:", CALC);
          console.log("userAvailableAirdrops:", userAvailableAirdrops);
          console.log("INSURANCE:", INSURANCE);
          this.balance = this.weiToEth(balance);
          this.allowance = this.weiToEth(allowance);
          this.HT_LOCKED = this.weiToEth(HT_LOCKED);
          this.HT_INVESTED = this.weiToEth(HT_INVESTED);
          this.HT_REFREWARD = this.weiToEth(HT_REFREWARD);
          this.USERS = USERS;
          this.CALC = CALC;
          this.userAvailableAirdrops = userAvailableAirdrops;
          this.countdownFromUnix(this.USERS.checkpoint);
          let HT_INSURANCE = await this.USDT_INSTANCE.methods
            .balanceOf(INSURANCE)
            .call();
          this.HT_INSURANCE = this.weiToEth(HT_INSURANCE);
        }
      );
    },
    async TOPDEPOSITS() {
      this.topDeposits = [];
      for (let index = 9; index > -1; index--) {
        let entry = await this.SC_INSTANCE.methods.TOPDEPOSITS(index).call();
        this.topDeposits.push(entry);
      }
    },
    async RECENTAIRDROPS() {
      this.recentAirdrops = [];
      for (let index = 398; index > 388; index--) {
        let entry = await this.SC_INSTANCE.methods.AIRDROPS(index).call();
        this.recentAirdrops.push(entry);
      }
    },

    onAction() {
      if (!this.walletAddr) {
        toast("Connect Your wallet first!");
        return;
      } else if (!this.buyAmount) {
        toast("Enter Amount!");
        return;
      } else if (Number(this.balance) < Number(this.buyAmount)) {
        toast("Insufficient balance");
        return;
      }

      this.isLoading = true;
      if (this.allowance >= this.buyAmount) {
        this.onDeposit();
        this.dep_inv = true;
      } else {
        this.dep_alw = true;
        this.onApprove();
      }
    },

    onApprove() {
      this.USDT_INSTANCE.methods
        .approve(SC_ADDR, "1")
        .send({
          from: this.walletAddr,
        })
        .on("transactionHash", (hash) => {
          console.log("Transaction Hash: ", hash);
          toast("Transaction is Submitted!");
        })
        .on("receipt", (receipt) => {
          this.isLoading = false;
          this.dep_alw = false;
          this.dep_inv = true;
          this.onDeposit();
          console.log("Receipt: ", receipt);
          toast("Transaction Completed successfully!");
        })
        .on("error", (error, receipt) => {
          this.isLoading = false;
          this.dep_alw = false;
          this.dep_rej = true;
          console.log("Error: ", receipt);
          toast("Transaction is Rejected!");
        });
    },

    onDeposit() {
      let amount = parseFloat(this.buyAmount * 1e18);

      this.SC_INSTANCE.methods
        .invest(amount.toString(), this.referrarAddr)
        .send({
          from: this.walletAddr,
        })
        .on("transactionHash", (hash) => {
          console.log("Transaction Hash: ", hash);
          toast("Transaction is Submitted!");
        })
        .on("receipt", (receipt) => {
          this.readValues();
          this.isLoading = false;
          this.dep_inv = false;
          this.dep_com = true;
          console.log("Receipt: ", receipt);
          toast("Your USDT has been desposited successfully!");
        })
        .on("error", (error, receipt) => {
          this.isLoading = false;
          this.dep_inv = false;
          this.dep_rej = true;
          console.log("Error receipt: ", receipt);
          toast("Transaction is Rejected!");
        });
    },

    onCompound() {
      if (!this.walletAddr) {
        toast("Connect Your wallet first!");
        return;
      }
      this.isLoading = true;
      this.SC_INSTANCE.methods
        .compound()
        .send({
          from: this.walletAddr,
        })
        .on("transactionHash", (hash) => {
          console.log("Transaction Hash: ", hash);
          toast("Transaction is Submitted!");
        })
        .on("receipt", (receipt) => {
          this.readValues();
          this.isLoading = false;
          console.log("Receipt: ", receipt);
          toast("Transaction Completed successfully!");
        })
        .on("error", (error, receipt) => {
          this.isLoading = false;
          console.log("Error: ", receipt);
          toast("Transaction is Rejected!");
        });
    },

    onUnstake() {
      if (!this.walletAddr) {
        toast("Connect Your wallet first!");
        return;
      }
      this.isLoading = true;
      this.SC_INSTANCE.methods
        .unstake()
        .send({
          from: this.walletAddr,
        })
        .on("transactionHash", (hash) => {
          console.log("Transaction Hash: ", hash);
          toast("Transaction is Submitted!");
        })
        .on("receipt", (receipt) => {
          this.readValues();
          this.isLoading = false;
          console.log("Receipt: ", receipt);
          toast("Transaction Completed successfully!");
        })
        .on("error", (error, receipt) => {
          this.isLoading = false;
          console.log("Error: ", receipt);
          toast("Transaction is Rejected!");
        });
    },

    onClaim() {
      if (!this.walletAddr) {
        toast("Connect Your wallet first!");
        return;
      }
      this.isLoading = true;
      this.SC_INSTANCE.methods
        .claimAirdrops()
        .send({
          from: this.walletAddr,
        })
        .on("transactionHash", (hash) => {
          console.log("Transaction Hash: ", hash);
          toast("Transaction is Submitted!");
        })
        .on("receipt", (receipt) => {
          this.readValues();
          this.isLoading = false;
          console.log("Receipt: ", receipt);
          toast("Transaction Completed successfully!");
        })
        .on("error", (error, receipt) => {
          this.isLoading = false;
          console.log("Error: ", receipt);
          toast("Transaction is Rejected!");
        });
    },

    onWithdraw() {
      if (!this.walletAddr) {
        toast("Connect Your wallet first!");
        return;
      }
      this.isLoading = true;
      this.SC_INSTANCE.methods
        .withdraw()
        .send({
          from: this.walletAddr,
        })
        .on("transactionHash", (hash) => {
          console.log("Transaction Hash: ", hash);
          toast("Transaction is Submitted!");
        })
        .on("receipt", (receipt) => {
          this.readValues();
          this.isLoading = false;
          console.log("Receipt: ", receipt);
          toast("Transaction Completed successfully!");
        })
        .on("error", (error, receipt) => {
          this.isLoading = false;
          console.log("Error: ", receipt);
          toast("Transaction is Rejected!");
        });
    },

    weiToEth(num) {
      if (num) return this.fixedDecimal(parseFloat(num / 1e18), 0);
      else return num;
    },

    fixedDecimal(num, dig = 2) {
      if (dig) return num.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0];
      else return num.toString().match(/^-?\d+(?:\.\d{0,-1})?/)[0];
    },
    addrTrun(addr) {
      if (addr)
        return (
          addr.slice(0, 4) + "â¦" + addr.slice(addr.length - 4, addr.length)
        );
      else addr;
    },

    copyStringToClipboard() {
      var el = document.createElement("textarea");
      el.value = this.referral;
      el.setAttribute("readonly", "");
      el.style = { position: "absolute", left: "-9999px" };
      document.body.appendChild(el);
      el.select();
      document.execCommand("copy");
      document.body.removeChild(el);
      toast("Copied!");
    },

    onDisconnect() {
      localStorage.clear();
      this.web3Obj = null;
      this.walletAddr = null;
    },
    unixToAgo(unixTimestamp) {
      var currentTime = Math.floor(Date.now() / 1000);
      var timeDifference = currentTime - unixTimestamp;

      if (timeDifference < 0) {
        return "In the future";
      }

      var periods = [
        { name: "y", duration: 60 * 60 * 24 * 365 },
        { name: "m", duration: 60 * 60 * 24 * 30 },
        { name: "d", duration: 60 * 60 * 24 },
        { name: "h", duration: 60 * 60 },
        { name: "m", duration: 60 },
        { name: "s", duration: 1 },
      ];

      for (var i = 0; i < periods.length; i++) {
        var period = periods[i];
        if (timeDifference >= period.duration) {
          var numPeriods = Math.floor(timeDifference / period.duration);
          return numPeriods + period.name;
        }
      }
      return "Just now";
    },

    countdownFromUnix(unixTimestamp) {
      var targetTime = 24 * 60 * 60;
      var countdownElement = document.getElementById("countdown");

      const updateCountdown = () => {
        var currentTime = Math.floor(Date.now() / 1000);
        var timeDifference = targetTime - (currentTime - unixTimestamp);

        if (timeDifference <= 0) {
          countdownElement.textContent = "Offline";
          return;
        }

        var hours = Math.floor(timeDifference / (60 * 60));
        var minutes = Math.floor((timeDifference % (60 * 60)) / 60);
        var seconds = Math.floor(timeDifference % 60);

        var countdownText = hours + " : " + minutes + " : " + seconds;

        countdownElement.textContent = countdownText;
      };

      updateCountdown();
      setInterval(updateCountdown, 1000);
    },
  },
  computed: {
    profit1() {
      if (this.buyAmount) {
        let amount = this.buyAmount;
        for (var i = 1; i <= 30; i++) {
          var temp = 0.015 * 30 * amount;
          amount = amount + temp;
        }
        return (Number(amount) - Number(this.buyAmount)).toFixed(2);
      } else {
        return "";
      }
    },
  },
};
</script>
